# è‡ªåŠ¨æ„å»ºå’Œæ¨é€æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

é¡¹ç›®å·²é…ç½®è‡ªåŠ¨æ„å»ºå’Œæ¨é€åˆ° GitHub çš„åŠŸèƒ½ï¼Œæ”¯æŒä¸¤ç§æ–¹å¼ï¼š

1. **GitHub Actions** - æ¯æ¬¡æ¨é€åˆ° main åˆ†æ”¯æ—¶è‡ªåŠ¨æ„å»º
2. **æœ¬åœ°è„šæœ¬** - æ‰‹åŠ¨æ„å»ºåè‡ªåŠ¨æäº¤å’Œæ¨é€

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³• 1: ä½¿ç”¨ npm è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
npm run build:push
```

è¿™ä¸ªå‘½ä»¤ä¼šï¼š
1. æ„å»ºé¡¹ç›® (`npm run build`)
2. è‡ªåŠ¨æäº¤æ„å»ºäº§ç‰©åˆ° Git
3. æ¨é€åˆ° GitHub

### æ–¹æ³• 2: ä½¿ç”¨ Node.js è„šæœ¬

```bash
node build-and-push.mjs
```

### æ–¹æ³• 3: ä½¿ç”¨ Shell è„šæœ¬ï¼ˆmacOS/Linuxï¼‰

```bash
./build-and-push.sh
```

---

## ğŸ¤– GitHub Actions è‡ªåŠ¨æ„å»º

### è§¦å‘æ¡ä»¶

- **è‡ªåŠ¨è§¦å‘**: æ¯æ¬¡æ¨é€åˆ° `main` åˆ†æ”¯æ—¶
- **æ‰‹åŠ¨è§¦å‘**: åœ¨ GitHub Actions é¡µé¢ç‚¹å‡» "Run workflow"

### å·¥ä½œæµç¨‹

1. æ£€å‡ºä»£ç 
2. è®¾ç½® Node.js ç¯å¢ƒ
3. å®‰è£…ä¾èµ– (`npm ci`)
4. æ„å»ºé¡¹ç›® (`npm run build`)
5. æäº¤æ„å»ºäº§ç‰©åˆ° Git
6. æ¨é€åˆ° GitHub

### æŸ¥çœ‹æ„å»ºçŠ¶æ€

è®¿é—®: `https://github.com/ä½ çš„ç”¨æˆ·å/meds/actions`

---

## ğŸ“ é…ç½®è¯´æ˜

### .gitignore ä¿®æ”¹

å·²ä¿®æ”¹ `.gitignore`ï¼Œå…è®¸æäº¤ `dist/` ç›®å½•ï¼š

```gitignore
# Production
# dist/  # å…è®¸æäº¤æ„å»ºäº§ç‰©ä»¥æ”¯æŒè‡ªåŠ¨éƒ¨ç½²
build/
*.local
```

### package.json è„šæœ¬

æ–°å¢äº† `build:push` è„šæœ¬ï¼š

```json
{
  "scripts": {
    "build:push": "node build-and-push.mjs"
  }
}
```

---

## ğŸ”§ æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: æ„å»ºå¤±è´¥

**é”™è¯¯**: `npm run build` å¤±è´¥

**è§£å†³**:
1. æ£€æŸ¥ä»£ç æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯
2. ç¡®ä¿æ‰€æœ‰ä¾èµ–å·²å®‰è£…: `npm install`
3. æŸ¥çœ‹æ„å»ºæ—¥å¿—ä¸­çš„å…·ä½“é”™è¯¯ä¿¡æ¯

### é—®é¢˜ 2: Git æ¨é€å¤±è´¥

**é”™è¯¯**: `git push` å¤±è´¥

**è§£å†³**:
1. æ£€æŸ¥æ˜¯å¦æœ‰æ¨é€æƒé™
2. ç¡®ä¿å·²é…ç½®è¿œç¨‹ä»“åº“: `git remote -v`
3. æ£€æŸ¥ç½‘ç»œè¿æ¥

### é—®é¢˜ 3: GitHub Actions æœªè§¦å‘

**é”™è¯¯**: æ¨é€ä»£ç å Actions æœªè¿è¡Œ

**è§£å†³**:
1. æ£€æŸ¥ `.github/workflows/build-and-deploy.yml` æ˜¯å¦å­˜åœ¨
2. ç¡®è®¤æ¨é€åˆ°äº† `main` åˆ†æ”¯
3. æ£€æŸ¥ GitHub Actions æ˜¯å¦è¢«ç¦ç”¨

---

## ğŸ“¦ æ„å»ºäº§ç‰©

æ„å»ºäº§ç‰©ä½äº `dist/` ç›®å½•ï¼ŒåŒ…å«ï¼š

- `index.html` - ä¸» HTML æ–‡ä»¶
- `assets/` - JavaScript å’Œ CSS æ–‡ä»¶
- `sw.js` - Service Worker æ–‡ä»¶
- `manifest.json` - PWA æ¸…å•æ–‡ä»¶

---

## âš™ï¸ é«˜çº§é…ç½®

### ä¿®æ”¹ GitHub Actions

ç¼–è¾‘ `.github/workflows/build-and-deploy.yml`:

```yaml
on:
  push:
    branches:
      - main
      - develop  # æ·»åŠ å…¶ä»–åˆ†æ”¯
```

### ä¿®æ”¹æ„å»ºè„šæœ¬

ç¼–è¾‘ `build-and-push.mjs` æ¥è‡ªå®šä¹‰æäº¤ä¿¡æ¯æ ¼å¼æˆ–æ·»åŠ å…¶ä»–æ­¥éª¤ã€‚

---

## ğŸ¯ æœ€ä½³å®è·µ

1. **å¼€å‘æµç¨‹**:
   ```bash
   # 1. ä¿®æ”¹ä»£ç 
   # 2. æµ‹è¯•
   npm run dev
   
   # 3. æ„å»ºå¹¶æ¨é€
   npm run build:push
   ```

2. **ç‰ˆæœ¬æ›´æ–°æµç¨‹**:
   ```bash
   # 1. æ›´æ–°ç‰ˆæœ¬å·
   npm run update-version
   
   # 2. æ„å»ºå¹¶æ¨é€
   npm run build:push
   ```

3. **CI/CD æµç¨‹**:
   - æ¯æ¬¡æ¨é€åˆ° main åˆ†æ”¯ â†’ è‡ªåŠ¨æ„å»º
   - æ„å»ºäº§ç‰©è‡ªåŠ¨æäº¤å¹¶æ¨é€
   - æ— éœ€æ‰‹åŠ¨æ“ä½œ

---

## ğŸ“š ç›¸å…³æ–‡ä»¶

- `.github/workflows/build-and-deploy.yml` - GitHub Actions é…ç½®
- `build-and-push.mjs` - Node.js æ„å»ºæ¨é€è„šæœ¬
- `build-and-push.sh` - Shell æ„å»ºæ¨é€è„šæœ¬
- `package.json` - npm è„šæœ¬é…ç½®

---

## âœ… æ£€æŸ¥æ¸…å•

åœ¨é¦–æ¬¡ä½¿ç”¨å‰ï¼Œè¯·ç¡®è®¤ï¼š

- [ ] GitHub Actions å·²å¯ç”¨
- [ ] å·²é…ç½® Git ç”¨æˆ·ä¿¡æ¯
- [ ] å·²é…ç½®è¿œç¨‹ä»“åº“ (`git remote -v`)
- [ ] æœ‰æ¨é€æƒé™
- [ ] Node.js å’Œ npm å·²å®‰è£…

---

Â© 2026 è¯ç›’åŠ©æ‰‹ | è‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²ç³»ç»Ÿ

