# CloudBase å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸ¯ å½“å‰çŠ¶æ€

âœ… **å·²å®Œæˆ**ï¼š
- CloudBase SDK å·²å®‰è£…
- ç¯å¢ƒé…ç½®å®Œæˆï¼ˆ`cloud1-8gi1awiz3bd99542`ï¼‰
- ç™»å½•/æ³¨å†ŒåŠŸèƒ½å·²å®ç°
- æµ‹è¯•é¡µé¢å·²åˆ›å»º

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### 1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

æœåŠ¡å™¨åœ°å€ï¼šhttp://localhost:5174/meds/

### 2. æµ‹è¯• CloudBase è¿æ¥

è®¿é—®æµ‹è¯•é¡µé¢ï¼šhttp://localhost:5174/meds/test-cloudbase.html

æŒ‰é¡ºåºæµ‹è¯•ï¼š
1. **æ³¨å†Œæ–°ç”¨æˆ·**ï¼šä½¿ç”¨é»˜è®¤çš„ `testuser1` / `123456`
2. **ç™»å½•**ï¼šä½¿ç”¨åˆšæ³¨å†Œçš„è´¦å·
3. **è·å–ç”¨æˆ·ä¿¡æ¯**ï¼šéªŒè¯ç™»å½•çŠ¶æ€
4. **æ·»åŠ è¯å“**ï¼šæµ‹è¯•æ•°æ®åº“å†™å…¥
5. **æŸ¥è¯¢è¯å“**ï¼šæµ‹è¯•æ•°æ®åº“è¯»å–
6. **ç™»å‡º**ï¼šæµ‹è¯•ç™»å‡ºåŠŸèƒ½

### 3. æµ‹è¯•ä¸»åº”ç”¨

è®¿é—®ä¸»åº”ç”¨ï¼šhttp://localhost:5174/meds/

- ç‚¹å‡»"å»æ³¨å†Œ"ï¼Œæ³¨å†Œä¸€ä¸ªæ–°è´¦å·
- æˆ–ä½¿ç”¨å·²æ³¨å†Œçš„è´¦å·ç™»å½•
- æŸ¥çœ‹æ˜¯å¦èƒ½æ­£å¸¸è¿›å…¥åº”ç”¨

## ğŸ“‹ ä¸‹ä¸€æ­¥å·¥ä½œ

å®Œæˆæµ‹è¯•åï¼Œéœ€è¦æ›´æ–°ä»¥ä¸‹æœåŠ¡æ–‡ä»¶ä»¥ä½¿ç”¨ CloudBaseï¼š

### æ ¸å¿ƒæœåŠ¡æ–‡ä»¶

1. **src/services/medication.ts** - è¯å“æœåŠ¡
   - `listMedications()` - æŸ¥è¯¢è¯å“åˆ—è¡¨
   - `addMedication()` - æ·»åŠ è¯å“
   - `updateMedication()` - æ›´æ–°è¯å“
   - `deleteMedication()` - åˆ é™¤è¯å“

2. **src/services/sync.ts** - åŒæ­¥æœåŠ¡
   - `uploadToCloud()` - ä¸Šä¼ åˆ°äº‘ç«¯
   - `downloadFromCloud()` - ä»äº‘ç«¯ä¸‹è½½
   - `syncData()` - åŒå‘åŒæ­¥

3. **src/services/storage.ts** - å­˜å‚¨æœåŠ¡
   - `uploadImage()` - ä¸Šä¼ å›¾ç‰‡
   - `deleteImage()` - åˆ é™¤å›¾ç‰‡

4. **src/services/userSettings.ts** - ç”¨æˆ·è®¾ç½®æœåŠ¡
   - `getUserSettings()` - è·å–ç”¨æˆ·è®¾ç½®
   - `updateUserSettings()` - æ›´æ–°ç”¨æˆ·è®¾ç½®

5. **src/components/AvatarUpload.tsx** - å¤´åƒä¸Šä¼ 
   - ä½¿ç”¨ CloudBase å­˜å‚¨ä¸Šä¼ å¤´åƒ

## ğŸ” æ•°æ®åº“é›†åˆç»“æ„

### medicationsï¼ˆè¯å“ï¼‰
```json
{
  "_id": "è‡ªåŠ¨ç”Ÿæˆ",
  "ownerId": "ç”¨æˆ· ID",
  "name": "è¯å“åç§°",
  "dosage": "å‰‚é‡",
  "scheduled_time": "æœç”¨æ—¶é—´",
  "color": "é¢œè‰²",
  "createdAt": "åˆ›å»ºæ—¶é—´",
  "updatedAt": "æ›´æ–°æ—¶é—´"
}
```

### medication_logsï¼ˆæœè¯è®°å½•ï¼‰
```json
{
  "_id": "è‡ªåŠ¨ç”Ÿæˆ",
  "ownerId": "ç”¨æˆ· ID",
  "medication_id": "è¯å“ ID",
  "taken_at": "æœç”¨æ—¶é—´",
  "notes": "å¤‡æ³¨",
  "createdAt": "åˆ›å»ºæ—¶é—´"
}
```

### user_settingsï¼ˆç”¨æˆ·è®¾ç½®ï¼‰
```json
{
  "_id": "è‡ªåŠ¨ç”Ÿæˆ",
  "ownerId": "ç”¨æˆ· ID",
  "theme": "ä¸»é¢˜",
  "notifications": "é€šçŸ¥è®¾ç½®",
  "language": "è¯­è¨€",
  "createdAt": "åˆ›å»ºæ—¶é—´",
  "updatedAt": "æ›´æ–°æ—¶é—´"
}
```

## âš ï¸ å¸¸è§é—®é¢˜

### Q1: æ³¨å†Œå¤±è´¥ï¼š"ç”¨æˆ·åå·²å­˜åœ¨"
**è§£å†³**ï¼šæ›´æ¢ä¸€ä¸ªæ–°çš„ç”¨æˆ·å

### Q2: ç™»å½•å¤±è´¥ï¼š"ç”¨æˆ·ä¸å­˜åœ¨"
**è§£å†³**ï¼šå…ˆæ³¨å†Œè´¦å·ï¼Œæˆ–æ£€æŸ¥ç”¨æˆ·åæ˜¯å¦æ­£ç¡®

### Q3: æ•°æ®åº“æ“ä½œå¤±è´¥ï¼š"æƒé™ä¸è¶³"
**è§£å†³**ï¼šæ£€æŸ¥ CloudBase æ§åˆ¶å°çš„æƒé™è®¾ç½®ï¼Œç¡®ä¿å·²è®¾ç½®ä¸º"è¯»å–å’Œä¿®æ”¹æœ¬äººæ•°æ®"

### Q4: æ— æ³•è¿æ¥åˆ° CloudBase
**è§£å†³**ï¼š
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. ç¡®è®¤ç¯å¢ƒ ID æ˜¯å¦æ­£ç¡®
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯

## ğŸ“š å‚è€ƒæ–‡æ¡£

- [CloudBase å®˜æ–¹æ–‡æ¡£](https://docs.cloudbase.net/)
- [CloudBase Web SDK](https://docs.cloudbase.net/api-reference/webv2/initialization)
- [æ•°æ®åº“æ“ä½œæŒ‡å—](https://docs.cloudbase.net/api-reference/webv2/database)
- [ç”¨æˆ·è®¤è¯æŒ‡å—](https://docs.cloudbase.net/api-reference/webv2/authentication)

## ğŸ‰ æµ‹è¯•æˆåŠŸå

å¦‚æœæ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼Œæˆ‘ä¼šç»§ç»­æ›´æ–°å…¶ä»–æœåŠ¡æ–‡ä»¶ï¼Œå®Œæˆå®Œæ•´çš„ CloudBase è¿ç§»ã€‚



