# 清除浏览器缓存指南

## 🔄 更新说明

我们已经移除了本地测试模式，现在应用统一使用 Supabase 进行认证和数据同步。

如果你看到旧的界面（例如"启用本地测试模式"按钮），这是因为浏览器缓存了旧版本。

---

## 📱 方法 1: 使用应用内的清除缓存功能（推荐）

1. 登录应用
2. 点击底部导航栏的"我的"
3. 找到"清除缓存"选项
4. 点击并确认
5. 应用会自动重新加载

---

## 💻 方法 2: 浏览器硬刷新

### Chrome / Edge
- **Windows**: `Ctrl + Shift + R` 或 `Ctrl + F5`
- **Mac**: `Cmd + Shift + R`

### Firefox
- **Windows**: `Ctrl + Shift + R` 或 `Ctrl + F5`
- **Mac**: `Cmd + Shift + R`

### Safari
- **Mac**: `Cmd + Option + R`

---

## 🔧 方法 3: 清除浏览器缓存（彻底）

### Chrome / Edge

1. 打开开发者工具（F12）
2. 右键点击刷新按钮
3. 选择"清空缓存并硬性重新加载"

或者：

1. 设置 → 隐私和安全 → 清除浏览数据
2. 选择"缓存的图片和文件"
3. 点击"清除数据"

### Firefox

1. 设置 → 隐私与安全 → Cookie 和网站数据
2. 点击"清除数据"
3. 勾选"缓存的 Web 内容"
4. 点击"清除"

### Safari

1. Safari → 偏好设置 → 高级
2. 勾选"在菜单栏中显示开发菜单"
3. 开发 → 清空缓存

---

## 🌐 方法 4: 无痕模式测试

如果你想快速测试最新版本：

1. 打开浏览器的无痕/隐私模式
   - Chrome: `Ctrl/Cmd + Shift + N`
   - Firefox: `Ctrl/Cmd + Shift + P`
   - Safari: `Cmd + Shift + N`
2. 访问应用网址
3. 这样会加载最新版本，不受缓存影响

---

## ❓ 常见问题

### Q: 为什么会有缓存？

A: 这是 PWA（渐进式 Web 应用）的特性。为了让应用可以离线使用，浏览器会缓存应用文件。

### Q: 清除缓存会丢失数据吗？

A: 不会！清除缓存只会删除应用的代码文件，你的数据（药品、服药记录等）保存在：
- 本地：IndexedDB（不受影响）
- 云端：Supabase 数据库（不受影响）

### Q: 我看到"Load failed"错误怎么办？

A: 这通常是网络连接问题。请检查：
1. 网络连接是否正常
2. Supabase 服务是否可访问
3. 防火墙是否阻止了连接

---

## 🎯 验证更新成功

更新后，你应该看到：
- ✅ 登录页面**没有**"启用本地测试模式"按钮
- ✅ "我的"页面有"清除缓存"选项
- ✅ 右上角有同步状态指示器

---

## 📞 需要帮助？

如果清除缓存后仍有问题，请：
1. 查看浏览器控制台（F12）的错误信息
2. 截图发送给开发团队
3. 提供详细的错误描述

---

**更新日期**: 2025-01-02  
**适用版本**: V251219.43+



